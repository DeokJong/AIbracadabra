<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.model.dao.UtilDao">

  <!-- 단일 문자열 리턴 -->
  <select id="getSidoName"
          parameterType="int"
          resultType="string">
    SELECT sido_name
      FROM sidos
     WHERE sido_code = #{sidoCode}
  </select>

  <select id="getGugunName"
          parameterType="int"
          resultType="string">
    SELECT gugun_name
      FROM guguns
     WHERE gugun_code = #{gunguCode}
  </select>

  <select id="getContentTypeName"
          parameterType="int"
          resultType="string">
    SELECT content_type_name
      FROM contenttypes
     WHERE content_type_id = #{contentTypeId}
  </select>

  <!-- Pair DTO 매핑 -->
  <resultMap id="pairMap" type="com.ssafy.model.dto.domain.Pair">
    <result property="code" column="code"/>
    <result property="name" column="name"/>
  </resultMap>

  <select id="getSidos"
          resultMap="pairMap">
    SELECT sido_code AS code,
           sido_name AS name
      FROM sidos
     ORDER BY sido_name
  </select>

  <select id="getGuguns"
          parameterType="int"
          resultMap="pairMap">
    SELECT gugun_code AS code,
           gugun_name AS name
      FROM guguns
     WHERE sido_code = #{sidoCode}
     ORDER BY gugun_name
  </select>

  <select id="getContentTypes"
          resultMap="pairMap">
    SELECT content_type_id AS code,
           content_type_name AS name
      FROM contenttypes
     ORDER BY content_type_name
  </select>

</mapper>
