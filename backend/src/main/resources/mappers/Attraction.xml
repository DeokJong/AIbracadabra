<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.model.dao.AttractionDao">

  <resultMap id="attractionMap" type="com.ssafy.model.dto.domain.Attraction">
    <id     property="no"             column="no"/>
    <result property="content_id"     column="content_id"/>
    <result property="title"          column="title"/>
    <result property="content_type_id" column="content_type_id"/>
    <result property="area_code"      column="area_code"/>
    <result property="si_gun_gu_code" column="si_gun_gu_code"/>
    <result property="first_image1"   column="first_image1"/>
    <result property="first_image2"   column="first_image2"/>
    <result property="map_level"      column="map_level"/>
    <result property="latitude"       column="latitude"/>
    <result property="longitude"      column="longitude"/>
    <result property="tel"            column="tel"/>
    <result property="addr1"          column="addr1"/>
    <result property="addr2"          column="addr2"/>
    <result property="homepage"       column="homepage"/>
    <result property="overview"       column="overview"/>
  </resultMap>

  <select id="getByFilter" 
          parameterType="com.ssafy.model.dto.domain.Filter" 
          resultMap="attractionMap">
    SELECT no, content_id, title, content_type_id,
           area_code, si_gun_gu_code, first_image1,
           first_image2, map_level, latitude, longitude,
           tel, addr1, addr2, homepage, overview
      FROM attractions
     WHERE area_code        = #{sidoCode}
       AND si_gun_gu_code   = #{gunguCode}
       AND content_type_id  = #{contentTypeId}
  </select>

</mapper>
